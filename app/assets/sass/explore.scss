// @import "media-queries";
// @import "sass-mq";
// @import "colour";
@import "xpl-link-styles";

$govuk-link-colour: govuk-colour("blue") !default;
$govuk-border-colour: govuk-colour("mid-grey");
$link-hover-colour: #003078;
$menu-hover-colour: #005ff8;

// $govuk-link-underline-thickness: 0.0625rem !default;
// $govuk-link-hover-underline-thickness: unquote("max(.1875rem, .12em)") !default;
// $govuk-link-underline-offset: 0.1em !default;
// $govuk-text-colour: govuk-colour("black") !default;

$mobile-width: 320px;
$tablet-width: 740px;
$desktop-width: 768px;
//$desktop-width: 960px;
$wide-width: 1300px;

#global-header-bar-outer {
  background: #283135;

  #global-header-bar {
    height: 7px;
    background-color: #1d70b8;
    max-width: 960px;
    margin-left: auto;
    margin-right: auto;
  }
}


//==============================================================================
// Explore-specific pages



.explore-page {

  // check with non-explore pages

  .govuk-main-wrapper--auto-spacing:first-child {
    padding: 0;
  }


  .govuk-heading-xl {
    font-size: 32px;
  }

  .govuk-heading-l {
    font-size: 22px;
    padding: 30px 0 30px 0;
    margin: 0;
  }

  .govuk-heading-m {
    font-size: 22px;
    padding: 30px 0 30px 0;
    margin: 0;
  }

  .govuk-input__suffix:focus {
    outline: 3px solid #fd0;
    outline-offset: 0;
    box-shadow: inset 0 0 0 4px #0b0c0c;
  }

  .xpl-section-inner {
    max-width: 960px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 25px;
    padding-right: 25px;
  }

  .home-services {
    &__heading {
      margin-top: 30px;
      font-size: 22px;
    }
    &__para {
      font-size: 16px;
    }
  }

  .featured-list {
    font-size: 18px;
    font-weight: 700;
    list-style-type: none;
    margin: 0 0 30px 0;
    li {
      padding-left: 30px;
      padding-bottom: 5px;
      background-image: url("/public/images/arrow.svg");
      background-repeat: no-repeat;
      background-position: 0 0;
      background-size: 21px;
    }
    li a {
      line-height: 1;
    }
    li + li {
      margin-top: 15px;
    }
  }

  .xpl-search-section {
    padding-bottom: 60px;
  }

  .xpl-search-input {
    input {
      height: 50px;
      width: calc(100% - 50px);
      font-size: 22px;
    }
    button {
      vertical-align: top;
      display: inline-block;
      width: 50px;
      height: 50px;
      cursor: pointer;
      background-image: url("/public/images/magnifying-glass.png");
      background-repeat: no-repeat;
      background-position: 7px 7px;
      background-size: 35px;
      background-color: black;
      text-indent: -5000px;
      overflow: hidden;
    }
  }

  section.subtopics {
    h2.govuk-heading-l {
      padding: 30px 0 10px 0;
    }
  }

  .xpl-organisation {
    border-bottom: 1px solid $govuk-border-colour;
    padding-top: 30px;
    margin-bottom: 30px;
    padding-bottom: 6px;

    a {
      text-decoration: none;
    }

    &__chevron {
      background-image: url("/public/images/chevron-right-505a5f.svg");
      float: right;
      width: 15px;
      height: 15px;
      position: relative;
      top: 8px;
    }

    &__inner {
      border-left: 3px solid black;
      padding-left: 8px;
      img {
        display: block;
        height: 26px;
        width: auto;
      }

      p {
        position: relative;
        top: 5px;
        font-family: Helvetica, "GDS Transport", Arial, sans-serif;
        font-size: 18px;
        margin-bottom: 7px;
        padding-right: 20px;
      }

    }
  }

  .a-z-list a:link {
    text-decoration: underline;
  }

  .govuk-accordion, .govuk-accordion__section-header {
    margin-left: 0;
    margin-right: 0;
    padding-left: 0;
    padding-right: 0;
    border-top-color: #b1b4b6;
    box-shadow: none;
    .govuk-accordion__section {
      button {
        color: govuk-colour("black");
        padding-right: 40px;
      }
      &:hover {
        background-color: #f3f2f1;
      }
      button:hover:not(:focus) {
        text-decoration: none;
      }
    }
    .govuk-accordion__open-all {
      margin-top: 30px;
      margin-bottom: 30px;
    }
  }

  .header-inner {
    max-width: 960px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 15px;
    padding-right: 45px;
    h1 {
      padding-top: 0;
      margin-top: 0;
    }
    .lede {
      font-size: 20px;
      padding-bottom: 45px;
      margin-bottom: 0;
    }
  }

  .home-numbers {
    &__large {
      font-size: 88px;
    }
    &__link {
      font-size: 18px;
      font-weight: bold;
    }
  }

  .xpl-hero2 {
    background: #f3f2f1;
  }

  .xpl-hero {
    z-index: 2;
    padding-bottom: 60px;
    background: govuk-colour("blue");
    h1 {
      padding-top: 30px;
      margin-bottom: 30px;
      color: govuk-colour("white");
    }
    p {
      font-size: 20px;
      color: govuk-colour("white");
    }
    p.xpl-hero-simpler {
      font-weight: bold;
      margin: 0;
    }
  }


  .xpl-most-viewed {
    ul.govuk-list li {
      margin-bottom: 30px;
      a:link, a:visited {
        font-size: 18px;
        font-weight: bold;
      }
    }
    &--topic {
      h2.govuk-heading-l {
        padding: 40px 0 30px 0;
      }
    }
  }

  .xpl-featured {
    h3 {
      padding-bottom: 0;
    }
  }


  .home-promo {
    &__image {
      margin-bottom: 0;
    }
    &__link {
      font-size: 22px;
    }
    &__text {
      font-size: 16px;
    }
  }



  .xpl-activity, .xpl-featured, .departments-and-policy {
    border-top: 2px solid govuk-colour("black");
    margin-top: 60px;
  }


  .xpl-activity {
    li {
      min-height: 65px;
    }
  }


  ul.xpl-subsubtopics li {
    margin-bottom: 30px;
  }

  .xpl-subsubtopics-section {
    margin-top: 30px;
  }

  .home-numbers__link {
    text-decoration: none;
    line-height: 1.5;

    .home-numbers__label{
      margin-bottom: $govuk-link-underline-thickness;
      border-bottom: $govuk-link-underline-thickness solid;

      &:hover {
        margin-bottom: -3px;
        border-bottom: $govuk-link-underline-thickness solid;
      }
    }
  }

  .home-numbers {
    &__large {
      font-size: 88px;
      display: block;
    }
    &__link {
      &:first-of-type {
        margin-top: -15px;
      }
      margin-bottom: 30px;
      font-size: 18px;
      font-weight: bold;
    }
  }

  .xpl-topics-page {
    .xpl-breadcrumb {
      margin: 0;
      padding: 0;
      list-style-position: outside;
      margin-bottom: govuk-em(30px, 16px);

      li {
        margin:0;
        padding: 0;
        list-style: none;
        display: flex;
        position: relative;
        margin-right: 10px;
        margin-left: 5px;
        padding-left: 20px;

        &:first-child {
          margin-left: 0;
          padding-left: 0;
        }

        &:before {
           content:"";
           position:absolute;
           top: 0;
           bottom:0;
           left: -3.3px;
           width:7px;
           height:7px;
           margin:auto 0;
           -webkit-transform:rotate(45deg);
           -ms-transform:rotate(45deg);
           transform:rotate(45deg);
           border:solid;
           border-width:1px 1px 0 0;
           border-color:#f3f2f1;
        }

        &:first-child {
          display: inline-block;
          &:before {
            border: none;
          }
        }

        &:last-child {
          align-self: flex-end;
          display: inline-block;
        }
      }
    }
  }

  .govuk-back-link {
    font-size: 18px;
    margin-bottom: 20px;
    margin-top: 0;
    padding-left: 0;
    background-position: 0 5px;
    background-image: none;
  }

  .inverse-header {
    background-color: #283135;
    min-height: 270px;
    padding: 30px 0 0 0;
    margin-left: 0;
    margin-bottom: 0;
    &--with-tabs {
      min-height: 206px;
    }
  }

  .header-inner {
    max-width: 960px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 25px;
    padding-right: 25px;
    h1 {
      padding-top: 0;
      padding-bottom: 20px;
      margin: 0;
    }
  }


  a {
    @extend %xpl-a-link;

    &:hover {
      @extend %xpl-a-hover;
    }

    &:focus {
      text-decoration: none;
    }
  }

  .govuk-accordion li {
    padding-bottom: 30px;
    margin-bottom: 0;
  }

  footer {
    margin-top: 50px;
  }

  // Override footer links
  #footer {
    a:hover {
      text-decoration-thickness: 3px;
    }
  }

  // govuk accordion overrides

  .gem-c-accordion__section-content {
    a {
      text-decoration: underline;
      &:hover {
        text-decoration-thickness: $govuk-link-hover-underline-thickness;
      }
      &:focus {
        text-decoration: none;
      }
    }
    .govuk-list li {
      margin-bottom: 1em;
    }
  }



}

//==============================================================================
// Desktop
//==============================================================================

@include govuk-media-query ($from: $desktop-width) {

  .explore-page {
    h1 {
      margin-top: 30px;
    }

    section {
      margin-left: 0;
      margin-right: 0;
    }


    section.subtopics {
      margin-left: auto;
      margin-right: auto;
      max-width: 960px;
    }

    .govuk-heading-xl {
      font-size: 48px;
    }

    .govuk-heading-l {
      font-size: 27px;
      padding-top: 40px;
      padding-bottom: 40px;
    }

    .govuk-heading-m {
      font-size: 27px;
      padding-top: 30px;
    }

    .xpl-activity, .xpl-featured, .departments-and-policy {
      border-width: 5px;
    }

    .xpl-most-viewed {
      ul.govuk-list {
        margin-bottom: 60px;
        li {
          margin-bottom: 20px;
          a:link, a:visited {
            font-size: 19px;
          }
        }
      }
    }

    .inverse-header {
      padding-left: 20px;
      padding-right: 20px;
      min-height: 295px;
      margin-bottom: 0;
      &--with-tabs {
        min-height: 231px;
      }
    }

    .xpl-hero {
      padding-bottom: 60px;
      h1 {
        margin-top: 0;
        padding-top: 60px;
      }
      p {
        font-size: 22px;
      }
    }

    .xpl-featured-inner {
      max-width: 960px;
      margin-left: auto;
      margin-right: auto;
      padding-left: 25px;
      padding-right: 25px;
    }

    .xpl-topics-page {
      &.xpl-topic-page {
        .back-link-inverse {
          padding-top: 50px;
          a.govuk-back-link {
            font-size: 22px;
            background-position: 0 7px;
          }
        }

        .back-link-inverse-inner {
          padding-left: 0;
        }
        h1 {
          padding-top: 0;
          padding-bottom: 20px;
          margin-bottom: 0;
          margin-top: 0;
        }
      }
    }

    .xpl-subsubtopics-section {
      margin-left: auto;
      margin-right: auto;
      max-width: 960px;
    }


    #xpl-frame2-activity li {
      min-height: 60px;
    }
    #xpl-frame2-topics li {
      max-height: 60px;
    }

    .govuk-breadcrumbs {
      .govuk-breadcrumbs__list-item:before {
        top: 0;
      }
    }


    &.js-enabled .govuk-accordion {
      width: 66%;
      .govuk-accordion__section {
        &:hover {
          background-color: #f3f2f1;
        }
        button:hover:not(:focus) {
          text-decoration: none;
        }
      }
    }

    .header-inner {
      padding-left: 0;
      padding-right: 0;
      p.lede {
        font-size: 22px;
        margin-bottom: 0;
      }
    }
  }
}
